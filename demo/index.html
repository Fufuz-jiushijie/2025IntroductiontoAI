<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <!-- 引入Tailwind CSS -->
  <script src="https://cdn.tailwindcss.com"></script>
  <!-- 引入字体图标 -->
  <link href="https://cdn.jsdelivr.net/npm/font-awesome@4.7.0/css/font-awesome.min.css" rel="stylesheet">
  <!-- 配置Tailwind自定义主题（主色、阴影） -->
  <script>
    tailwind.config = {
      theme: {
        extend: {
          colors: {
            primary: '#165DFF', // 主题主色
          },
          boxShadow: {
            'card': '0 10px 30px -5px rgba(0, 0, 0, 0.1)',
            'hover': '0 20px 40px -5px rgba(22, 93, 255, 0.15)',
          }
        },
      }
    }
  </script>
  <link rel="stylesheet" href="style.css" />
  <title>AI文生图 - 小组作业</title>
</head>
<body>
  <!-- 灵感关键词生成模态框 -->
  <div class="modal-mask" id="doubaoModal">
    <div class="modal-content">
      <h3>输入关键词生成描述</h3>
      <textarea id="keywordInput" placeholder="请输入关键词，例如：春日公园、治愈系咖啡"></textarea>
      <div class="result-title">生成结果：</div>
      <textarea id="resultArea" readonly></textarea>
      <div class="modal-btns">
        <button id="closeModalBtn">关闭</button>
        <button id="submitKeywordBtn">生成</button>
      </div>
    </div>
  </div>

  <!-- 粒子背景画布（全屏动态背景） -->
  <canvas id="particleCanvas" aria-hidden="true"></canvas>

  <!-- 核心操作区：AI文生图输入与生成 -->
  <div class="hero">
    <div class="container hero-content">
      <div class="hero-copy">
        <h1 id="heroTitle" class="hero-title">What should we create next？</h1>
        <p class="hero-subtitle">输入你的灵感提示词，让想象变成图像。</p>
        <div class="hero-input">
          <div class="prompt-label">
            <label class="block text-gray-700 mb-2">提示词（必填）</label>
            <!-- 灵感按钮：打开/关闭关键词生成模态框 -->
            <button id="inspireToggle" class="inspire-toggle" type="button" aria-label="灵感参数">
              <i class="fa fa-lightbulb-o" aria-hidden="true"></i>
              <span class="inspire-tooltip">灵感</span>
            </button>
          </div>
          <textarea 
            id="prompt" 
            class="input-textarea w-full px-5 py-4 rounded-xl border border-gray-200 focus:border-primary focus:outline-none input-focus resize-none h-24"
            rows="3"
            placeholder="比如：一只可爱的猫咪，坐在草地上，水彩风格"
          ></textarea>
        </div>
        <div class="hero-actions">
          <!-- 生成图片按钮：触发后端接口生成图片 -->
          <button 
            id="generateBtn" 
            onclick="generateImage()"
            class="generate-btn w-[200px] py-4 rounded-xl bg-primary text-white hover:bg-primary/90 transition-all flex items-center justify-center gap-2"
          >
            <i class="fa fa-magic"></i>
            <span>生成图片</span>
          </button>
          <a class="gallery-link" href="gallery.html">查看生成库</a>
        </div>
        <!-- 加载状态提示 -->
        <div id="loading" class="text-center text-gray-600 py-2 hidden">
          生成中...大约10-20s，请耐心等待
        </div>
        <!-- 结果状态提示 -->
        <div id="statusMessage" class="text-center text-gray-600 py-2 hidden"></div>
      </div>
    </div>
  </div>

  <script src="script.js"></script>
</body>
</html>